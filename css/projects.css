/* =====================================================
   PROJECTS PAGE — FIT BELOW FIXED TOPBAR (NO OVERLAP)
   Footer stays below (scroll only to reach footer)
   ===================================================== */

/* Active link (safe to keep) */
.nav-links a[href="projects.html"],
.nav-links a[href="/public/projects.html"]{
  color:#fff;
  font-weight:800;
}

/* Use the global variable from styles.css if present */
:root{
  --page-pad: 18px;
  --row-gap: 18px;

  --grid-gap: 14px;
  --card-pad: 14px;

  --thumb-h: 108px;
}

/* =====================================================
   MAIN PANEL (fits within viewport below fixed topbar)
   ===================================================== */
.projects-page{
  min-height: calc(100vh + 80px);
}


.projects-page .page{
  width: min(1200px, calc(100% - 3rem));
  margin: 0 auto;

  /* push content below your fixed .topbar in styles.css */
  padding-top: calc(var(--topbar-offset) + var(--page-pad));
  padding-bottom: 22px;
}

/* The “fit” layout happens here */
.projects-layout{
  height: calc(110svh - var(--topbar-offset));
  display: grid;
  grid-template-rows: 1fr 1fr;   /* Academic | Personal */
  gap: var(--row-gap);

  overflow: hidden; /* prevents overlap into footer */
  min-height: 0;
}

/* =====================================================
   SECTIONS (each row clips its own content)
   ===================================================== */

.section{
  position: relative;

  display: grid;
  grid-template-rows: auto 1fr; /* header | cards */
  gap: 10px;

  min-height: 0;
  overflow: hidden; /* IMPORTANT: stops overlap */
}

/* soft glow */
.section::before{
  content:"";
  position:absolute;
  inset:-14% 0 -12%;
  z-index:-1;
  pointer-events:none;
  background:
    radial-gradient(820px 480px at 20% 30%, rgba(124,92,255,0.12), transparent 60%),
    radial-gradient(820px 480px at 80% 55%, rgba(255,138,91,0.08), transparent 62%);
  opacity:.55;
  mask-image:linear-gradient(to bottom, transparent, #000 20%, #000 80%, transparent);
}

.section-header{ margin:0; }

.section-title{
  margin: 0;
  font-size: clamp(1.55rem, 2.2vw, 2.05rem);
  line-height: 1.08;
  letter-spacing: -0.02em;
}

/* SAFETY: hide subtitle even if it comes back */
.projects-page .section-subtitle{
  display: none;
}

/* Personal section – no divider line */
#personal-section{
  padding-top: 12px;
  border-top: none;
}

/* =====================================================
   GRIDS
   ===================================================== */

.cards-grid{
  display: grid;
  gap: var(--grid-gap);
  align-content: start;

  min-height: 0;
  overflow: hidden;
}

/* Academic: 2 columns */
#academic-section .cards-grid{
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

/* Personal: 3 columns */
#personal-section .cards-grid{
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

/* =====================================================
   CARDS (compact but more readable / less congested)
   ===================================================== */

.cards-grid .card{
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 2px; /* subtle internal rhythm */

  padding: var(--card-pad);
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);

  background: radial-gradient(
    120% 140% at 18% 0%,
    rgba(124,92,255,0.13),
    rgba(255,255,255,0.02) 60%,
    rgba(0,0,0,0.02) 100%
  );

  box-shadow:
    0 12px 34px rgba(0,0,0,0.35),
    inset 0 0 0 1px rgba(255,255,255,0.04);

  overflow: hidden;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}

.cards-grid .card:hover{
  transform: translateY(-3px);
  border-color: rgba(255,138,91,0.26);
  box-shadow:
    0 18px 46px rgba(0,0,0,0.42),
    0 0 0 1px rgba(124,92,255,0.22);
}

/* =====================================================
   THUMB
   ===================================================== */

.cards-grid .thumb,
.cards-grid .project-card-thumb{
  border-radius: 16px;
  overflow: hidden;
  margin-bottom: 10px;
  background: rgba(0,0,0,0.18);
}

.cards-grid img{
  width: 100%;
  height: var(--thumb-h);
  object-fit: cover;
  object-position: center;
  display: block;
  opacity: .92;
}

/* =====================================================
   TYPOGRAPHY (decongested)
   ===================================================== */

/* Tag line (Thesis / Course Project / Music etc.) */
.card-tag{
  margin: 0 0 4px;
  font-size: .78rem;
  line-height: 1.4;
  letter-spacing: .02em;
  text-transform: uppercase;
  color: rgba(244,241,255,0.58);
}

/* Title */
.cards-grid h3,
.cards-grid .card-title{
  margin: 2px 0 8px;
  font-size: 1.05rem;       /* was .98 */
  line-height: 1.3;         /* was 1.2 */
  letter-spacing: -0.015em;
  font-weight: 700;
  color: rgba(255,255,255,0.96);

  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Meta line (Unity · C# · XR Toolkit etc.) */
.project-meta{
  margin: 0 0 10px;
  font-size: .78rem;
  line-height: 1.4;
  letter-spacing: .02em;
  text-transform: uppercase;
  color: rgba(244,241,255,0.55);

  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.cards-grid{
  overflow-y: auto;   /* allow internal scroll */
  padding-right: 4px; /* avoids scrollbar overlap */
}

.cards-grid .card{
  min-height: 0; /* critical for flex + overflow */
}

.project-card-actions{
  margin-top: 6px; /* was 8–12 */
}

#academic-section .cards-grid .card-text{
  -webkit-line-clamp: 3;
}

#personal-section .cards-grid .card-text{
  -webkit-line-clamp: 2;
}


/* Summary text */
.cards-grid p,
.cards-grid .card-text{
  margin: 0 0 10px;
  font-size: .9rem;
  line-height: 1.45; /* slightly tighter */
  color: rgba(244,241,255,0.78);

  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}


/* =====================================================
   BUTTON (View details)
   ===================================================== */

.project-card-actions{
  margin-top: 8px;
  display: flex;
  justify-content: flex-end;
}

.project-card-button{
  --btn-border: rgba(255,255,255,0.14);
  --btn-bg1: rgba(255,255,255,0.10);
  --btn-bg2: rgba(255,255,255,0.05);
  --btn-glow: rgba(124,92,255,0.22);
  --btn-glow2: rgba(255,138,91,0.16);

  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid var(--btn-border);

  background: linear-gradient(180deg, var(--btn-bg1), var(--btn-bg2));
  color: rgba(255,255,255,0.92);

  font-weight: 800;
  font-size: 0.84rem;
  letter-spacing: 0.01em;
  text-decoration: none;

  display: inline-flex;
  align-items: center;
  gap: 8px;

  box-shadow:
    0 10px 26px rgba(0,0,0,0.32),
    inset 0 0 0 1px rgba(255,255,255,0.05);

  transition:
    transform 140ms ease,
    box-shadow 140ms ease,
    border-color 140ms ease,
    background 140ms ease,
    filter 140ms ease;
}

.project-card-button::after{
  content: "↗";
  opacity: 0.85;
  transform: translateY(-0.5px);
}

.project-card-button:hover{
  transform: translateY(-1px);
  border-color: rgba(124,92,255,0.36);
  background: linear-gradient(
    180deg,
    rgba(124,92,255,0.22),
    rgba(255,255,255,0.06)
  );
  box-shadow:
    0 14px 36px rgba(0,0,0,0.38),
    0 0 0 1px rgba(124,92,255,0.16),
    0 0 24px var(--btn-glow),
    0 0 18px var(--btn-glow2);
  filter: brightness(1.03);
}

.project-card-button:active{
  transform: translateY(0px) scale(0.99);
}

.project-card-button:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 3px rgba(124,92,255,0.30),
    0 14px 36px rgba(0,0,0,0.38);
}

/* =====================================================
   RESPONSIVE (mobile scrolls normally)
   ===================================================== */

@media (max-width:1100px){
  #personal-section .cards-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width:860px){
  .projects-layout{
    height: auto;
    overflow: visible;
    display: block;
  }

  #academic-section .cards-grid,
  #personal-section .cards-grid{
    grid-template-columns: 1fr;
  }
}

@media (max-width:520px){
  :root{ --thumb-h: 150px; }

  .cards-grid p,
  .cards-grid .card-text{
    -webkit-line-clamp: 4;
  }
}